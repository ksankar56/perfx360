<div class="card-block">
    <div class="card-text">
        <p>Basic information of a component with any one component type associated with it. It can hold testcases files and groups to be tested.</p>
    </div>
    <form class="form form-horizontal" id="ajax-upload-form" action="/application/upload" method="POST" enctype="multipart/form-data">
        <div class="alert alert-icon-left  alert-arrow-left alert-danger alert-dismissible fade in mb-2" role="alert" style="display:none;" id="error-message-alert-wrapper">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            </button>
            <span id="error-message-alert"></span>
        </div>

        <div class="alert alert-icon-left  alert-arrow-left alert-success alert-dismissible fade in mb-2" role="alert" style="display:none;" id="success-message-alert-wrapper">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            </button>
            <span id="success-message-alert"></span>
        </div>
        <div class="form-body">
            <div class="form-group row">
                <label class="col-md-3 label-control" for="name">Name</label>
                <div class="col-md-9">
                    <input type="hidden" id="projectId" class="form-control" placeholder="projectId" name="projectId" value="<%= req.session.project._id%>">
                    <input type="hidden" id="id" class="form-control" placeholder="id" name="id">
                    <input type="text" id="name" class="form-control required" placeholder="Application Name" name="name" required>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-3 label-control" for="description">Description</label>
                <div class="col-md-9">
                    <textarea id="description" rows="5" class="form-control" name="description" placeholder="Application Description" required></textarea>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-md-3 label-control" for="componentType">Application Type</label>
                <div class="col-md-9">
                    <div class="form-group">
                        <% console.info('params = ', locals.params.applicationTypes); %>
                        <select name="componentType" class="form-control">
                           <% if (locals.params.applicationTypes) {
                               var applicationTypes = locals.params.applicationTypes;
                               for(var i=0; i < applicationTypes.length; i++) {
                                   var applicationType = applicationTypes[i];  %>

                                <option value="<%= applicationType._id %>"><%= applicationType.name %>%></option>
                            <% }
                            } %>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-md-3 label-control">Log Capture</label>
                <div class="col-md-9">
                    <div class="card-block right">
                        <label class="display-inline-block custom-control custom-checkbox">
                            <input type="checkbox" id="perfLog" name="perfLog" checked="checked" class="custom-control-input">
                            <span class="custom-control-indicator"></span>
                            <span class="custom-control-description">Performance Log</span>
                        </label>
                        <label class="display-inline-block custom-control custom-checkbox">
                            <input type="checkbox" id="metricLog" name="metricLog" class="custom-control-input">
                            <span class="custom-control-indicator"></span>
                            <span class="custom-control-description">System Log</span>
                        </label>
                        <label class="display-inline-block custom-control custom-checkbox">
                            <input type="checkbox" id="networkLog" name="networkLog" class="custom-control-input">
                            <span class="custom-control-indicator"></span>
                            <span class="custom-control-description">Network Log</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-group col-xs-12 mb-2 file-repeater">
                <div data-repeater-list="repeater-list">
                    <div data-repeater-item>
                        <div class="row mb-1">
                            <div class="col-xs-3 col-xl-2">
                                &nbsp;
                            </div>
                            <div class="col-xs-7 col-xl-9">
                                <label class="file center-block">
                                    <input type="file" id="file" name="testFile" required>
                                    <span class="file-custom"></span>
                                </label>
                            </div>
                            <div class="col-xs-2 col-xl-1">
                                <button type="button" data-repeater-delete class="btn btn-icon btn-danger mr-1"><i class="icon-cross2"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="button" data-repeater-create class="btn btn-info">
                    <i class="icon-plus4"></i> Add new file
                </button>
            </div>
        </div>

        <div class="form-actions right">
            <button type="button" class="btn btn-primary mr-1 process-page" data-url="/application/list/<%= req.session.project._id %>"
                    data-method="GET" data-title="View Applications" data-datatable="application-list">
                <i class="icon-arrow-left4"></i> Back
            </button>
            <button type="button" class="btn btn-warning mr-1 side-panel-trigger">
                <i class="icon-cross2"></i> Cancel
            </button>
            <button type="submit" class="btn btn-primary">
                <i class="icon-check2"></i> Save
            </button>
        </div>
    </form>
</div>
<script src="/app-assets/js/scripts/pages/users-contacts.js" type="text/javascript"></script>
<script src="/app-assets/js/scripts/forms/form-repeater.js" type="text/javascript"></script>